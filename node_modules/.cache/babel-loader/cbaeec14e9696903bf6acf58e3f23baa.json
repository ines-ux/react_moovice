{"ast":null,"code":"var _jsxFileName = \"/Users/ines/Desktop/konexio/react/moovice/src/components/PopularBattle.js\";\nimport React from 'react';\nimport Card from './movie/Card';\n\nclass PopularBattle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentPage: 1,\n      movies: []\n    };\n  }\n\n  componentDidMount() {\n    let API_KEY = '74e7d2a525818dc6d851a13d76d92d3c';\n    let url = `https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=${API_KEY}`;\n    fetch(url).then(res => res.json()).then(json => {\n      console.log(' Popular, vérifier le contenu de json', json);\n      this.setState({\n        movies: json.results\n      });\n    });\n  }\n\n  onClickMovie(movieId) {\n    this.setState({\n      currentPage: this.state.currentPage + 1\n    });\n  }\n\n  render() {\n    console.log('popularBattle afficher le state movies', this.state.movies);\n    let currentMovies = [];\n    let movieOne = this.state.movies[(this.state.currentPage - 1) * 2];\n    let movieTwo = this.state.movies[(this.state.currentPage - 1) * 2 + 1];\n    currentMovies.push(movieOne, movieTwo);\n    console.log('popularBattle currentMovies', currentMovies);\n\n    if (this.state.movies.length == 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 6\n        }\n      }, \"Lodding.....\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }\n    }, currentMovies.map(movie => {\n      console.log('map movie : ', movie);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        image: movie.poster_path,\n        title: movie.title,\n        description: movie.overview,\n        onClick: () => this.onClickMovie(movie.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 9\n        }\n      }));\n    })));\n  }\n\n}\n\nexport default PopularBattle;","map":{"version":3,"sources":["/Users/ines/Desktop/konexio/react/moovice/src/components/PopularBattle.js"],"names":["React","Card","PopularBattle","Component","constructor","props","state","currentPage","movies","componentDidMount","API_KEY","url","fetch","then","res","json","console","log","setState","results","onClickMovie","movieId","render","currentMovies","movieOne","movieTwo","push","length","map","movie","poster_path","title","overview","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,cAAjB;;AAEA,MAAMC,aAAN,SAA4BF,KAAK,CAACG,SAAlC,CAA4C;AAC3CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,WAAW,EAAE,CADD;AAEZC,MAAAA,MAAM,EAAE;AAFI,KAAb;AAIA;;AAEDC,EAAAA,iBAAiB,GAAG;AACnB,QAAIC,OAAO,GAAG,kCAAd;AACA,QAAIC,GAAG,GAAI,+EAA8ED,OAAQ,EAAjG;AACAE,IAAAA,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAiBC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAAzB,EAAqCF,IAArC,CAA2CE,IAAD,IAAU;AACnDC,MAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDF,IAArD;AACA,WAAKG,QAAL,CAAc;AACbV,QAAAA,MAAM,EAAEO,IAAI,CAACI;AADA,OAAd;AAGA,KALD;AAMA;;AAEDC,EAAAA,YAAY,CAACC,OAAD,EAAU;AACrB,SAAKH,QAAL,CAAc;AACbX,MAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAAX,GAAyB;AADzB,KAAd;AAGA;;AAEDe,EAAAA,MAAM,GAAG;AACRN,IAAAA,OAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsD,KAAKX,KAAL,CAAWE,MAAjE;AACA,QAAIe,aAAa,GAAG,EAApB;AACA,QAAIC,QAAQ,GAAG,KAAKlB,KAAL,CAAWE,MAAX,CAAkB,CAAC,KAAKF,KAAL,CAAWC,WAAX,GAAyB,CAA1B,IAA+B,CAAjD,CAAf;AACA,QAAIkB,QAAQ,GAAG,KAAKnB,KAAL,CAAWE,MAAX,CAAkB,CAAC,KAAKF,KAAL,CAAWC,WAAX,GAAyB,CAA1B,IAA+B,CAA/B,GAAmC,CAArD,CAAf;AACAgB,IAAAA,aAAa,CAACG,IAAd,CAAmBF,QAAnB,EAA6BC,QAA7B;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CM,aAA3C;;AAEA,QAAI,KAAKjB,KAAL,CAAWE,MAAX,CAAkBmB,MAAlB,IAA4B,CAAhC,EAAmC;AAClC,0BACC;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,CADD;AAKA;;AAED,wBACC;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACEJ,aAAa,CAACK,GAAd,CAAmBC,KAAD,IAAW;AAC7Bb,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BY,KAA5B;AACA,0BACC;AAAK,QAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACC,oBAAC,IAAD;AACC,QAAA,KAAK,EAAEA,KAAK,CAACC,WADd;AAEC,QAAA,KAAK,EAAED,KAAK,CAACE,KAFd;AAGC,QAAA,WAAW,EAAEF,KAAK,CAACG,QAHpB;AAIC,QAAA,OAAO,EAAE,MAAM,KAAKZ,YAAL,CAAkBS,KAAK,CAACI,EAAxB,CAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD;AAUA,KAZA,CADF,CADD,CADD;AAmBA;;AA7D0C;;AAgE5C,eAAe/B,aAAf","sourcesContent":["import React from 'react';\nimport Card from './movie/Card';\n\nclass PopularBattle extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tcurrentPage: 1,\n\t\t\tmovies: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tlet API_KEY = '74e7d2a525818dc6d851a13d76d92d3c';\n\t\tlet url = `https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=${API_KEY}`;\n\t\tfetch(url).then((res) => res.json()).then((json) => {\n\t\t\tconsole.log(' Popular, vérifier le contenu de json', json);\n\t\t\tthis.setState({\n\t\t\t\tmovies: json.results\n\t\t\t});\n\t\t});\n\t}\n\n\tonClickMovie(movieId) {\n\t\tthis.setState({\n\t\t\tcurrentPage: this.state.currentPage + 1\n\t\t});\n\t}\n\n\trender() {\n\t\tconsole.log('popularBattle afficher le state movies', this.state.movies);\n\t\tlet currentMovies = [];\n\t\tlet movieOne = this.state.movies[(this.state.currentPage - 1) * 2];\n\t\tlet movieTwo = this.state.movies[(this.state.currentPage - 1) * 2 + 1];\n\t\tcurrentMovies.push(movieOne, movieTwo);\n\t\tconsole.log('popularBattle currentMovies', currentMovies);\n\n\t\tif (this.state.movies.length == 0) {\n\t\t\treturn (\n\t\t\t\t<div className=\"container\">\n\t\t\t\t\t<h3>Lodding.....</h3>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t{currentMovies.map((movie) => {\n\t\t\t\t\t\tconsole.log('map movie : ', movie);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"col-6\">\n\t\t\t\t\t\t\t\t<Card\n\t\t\t\t\t\t\t\t\timage={movie.poster_path}\n\t\t\t\t\t\t\t\t\ttitle={movie.title}\n\t\t\t\t\t\t\t\t\tdescription={movie.overview}\n\t\t\t\t\t\t\t\t\tonClick={() => this.onClickMovie(movie.id)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default PopularBattle;\n"]},"metadata":{},"sourceType":"module"}